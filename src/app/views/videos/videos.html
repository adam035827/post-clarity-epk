<section class="videos-section section">
  <div class="container">
    <h1 class="section-title">Videos</h1>
    <div class="content">
      <div class="content-card">
        <p>
          Check out our live performances, event highlights, and behind-the-scenes content. 
          Follow us on Instagram and YouTube for the latest videos.
        </p>
      </div>

      <div class="video-grid">
        @for (video of videos; track video.url; let i = $index) {
          <div class="video-item" (click)="openVideo(i)">
            <video class="video-thumbnail" muted preload="metadata">
              <source [src]="video.url" type="video/mp4">
            </video>
            <div class="video-overlay">
              <div class="play-button">‚ñ∂</div>
            </div>
          </div>
        }
      </div>

      @if (selectedVideoIndex() !== null) {
        <div class="video-modal" (click)="closeVideo()">
          <button class="modal-close" (click)="closeVideo()" aria-label="Close">&times;</button>
          
          @if (selectedVideoIndex()! > 0) {
            <button class="modal-nav modal-prev" (click)="previousVideo(); $event.stopPropagation()" aria-label="Previous video">
              &#8249;
            </button>
          }
          
          @if (selectedVideoIndex()! < videos.length - 1) {
            <button class="modal-nav modal-next" (click)="nextVideo(); $event.stopPropagation()" aria-label="Next video">
              &#8250;
            </button>
          }
          
          <div class="modal-content" (click)="$event.stopPropagation()">
            <video controls autoplay>
              <source [src]="videos[selectedVideoIndex()!].url" type="video/mp4">
            </video>
            <div class="modal-counter">{{ selectedVideoIndex()! + 1 }} / {{ videos.length }}</div>
          </div>
        </div>
      }

      <div class="content-card" style="margin-top: 3rem;">
        <div class="social-section">
          <h3>More Videos</h3>
          <p>
            Find more performance videos, reels, and behind-the-scenes content on our social media channels.
          </p>
          <div class="social-links">
            <a href="https://instagram.com/postclarity_kc" target="_blank" rel="noopener" class="platform-link">
              <span class="icon">üì∏</span>
              <span>Instagram - @postclarity_kc</span>
            </a>
            <a href="https://youtube.com/channel/UC1_DICofQgApv-Vg_BpDaMQ" target="_blank" rel="noopener" class="platform-link">
              <span class="icon">‚ñ∂Ô∏è</span>
              <span>YouTube Channel</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
